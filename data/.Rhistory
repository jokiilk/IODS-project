osastomuokkaus$`J3 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J3 ammatti`, X2)])
#lainoppineiden jäsenten ammattiluokitus
lakimiehet <- lakiAmmatit
osastomuokkaus[match(osastomuokkaus$`PJ ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`PJ ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`PJ ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J1 ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`J1 ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`J1 ammatti`, X2)])
osastomuokkaus <- osastot
osastomuokkaus #varmistus, ettei alkuperäinen data mene pilalle
henkilomuokkaus <- henkilot
henkilomuokkaus
#tässä yritetään id:n matchausta nimien avulla
osastomuokkaus[match(osastomuokkaus$PJ, henkilomuokkaus$nimi), 2, drop=F]
#head(osastomuokkaus)
#PJ:n vaihto ID-numeroksi
osastomuokkaus$PJ <- with(henkilomuokkaus, ID[match(osastomuokkaus$PJ, nimi)])
#J1 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas1, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas1 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas1, nimi)])
#J2 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas2, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas2 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas2, nimi)])
#J3 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas3, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas3 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas3, nimi)])
#SJ vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$SJ, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$SJ <- with(henkilomuokkaus, ID[match(osastomuokkaus$SJ, nimi)])
#sotilasarvot luokiteltuna
sotilaat <- sotilasarvot
osastomuokkaus[match(osastomuokkaus$Sjarvo, sotilaat$X2), 2, drop=F]
osastomuokkaus$Sjarvo <- with(sotilaat, X1[match(osastomuokkaus$Sjarvo, X2)])
#ammatit jasen 2 ja 3
ammatit <- ammatit23
osastomuokkaus[match(osastomuokkaus$`J2 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J2 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J2 ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J3 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J3 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J3 ammatti`, X2)])
#lainoppineiden jäsenten ammattiluokitus
lakimiehet <- lakiAmmatit
osastomuokkaus[match(osastomuokkaus$`PJ ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`PJ ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`PJ ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J1 ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`J1 ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`J1 ammatti`, X2)])
library(readxl)
osastot <- read_excel("~/Valtiorikosoikeudet/osastot.xls",
col_types = c("numeric", "numeric", "numeric",
"text", "text", "text", "text", "text",
"text", "text", "text", "text", "text",
"text", "text", "text", "text", "text"))
View(osastot)
osastomuokkaus <- osastot
osastomuokkaus #varmistus, ettei alkuperäinen data mene pilalle
henkilomuokkaus <- henkilot
henkilomuokkaus
#tässä yritetään id:n matchausta nimien avulla
osastomuokkaus[match(osastomuokkaus$PJ, henkilomuokkaus$nimi), 2, drop=F]
#head(osastomuokkaus)
#PJ:n vaihto ID-numeroksi
osastomuokkaus$PJ <- with(henkilomuokkaus, ID[match(osastomuokkaus$PJ, nimi)])
#J1 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas1, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas1 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas1, nimi)])
#J2 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas2, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas2 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas2, nimi)])
#J3 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas3, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas3 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas3, nimi)])
#SJ vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$SJ, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$SJ <- with(henkilomuokkaus, ID[match(osastomuokkaus$SJ, nimi)])
#sotilasarvot luokiteltuna
sotilaat <- sotilasarvot
osastomuokkaus[match(osastomuokkaus$Sjarvo, sotilaat$X2), 2, drop=F]
osastomuokkaus$Sjarvo <- with(sotilaat, X1[match(osastomuokkaus$Sjarvo, X2)])
#ammatit jasen 2 ja 3
ammatit <- ammatit23
osastomuokkaus[match(osastomuokkaus$`J2 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J2 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J2 ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J3 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J3 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J3 ammatti`, X2)])
#lainoppineiden jäsenten ammattiluokitus
lakimiehet <- lakiAmmatit
osastomuokkaus[match(osastomuokkaus$`PJ ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`PJ ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`PJ ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J1 ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`J1 ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`J1 ammatti`, X2)])
osastomuokkaus <- osastot
osastomuokkaus #varmistus, ettei alkuperäinen data mene pilalle
henkilomuokkaus <- henkilot
henkilomuokkaus
#tässä yritetään id:n matchausta nimien avulla
osastomuokkaus[match(osastomuokkaus$PJ, henkilomuokkaus$nimi), 2, drop=F]
#head(osastomuokkaus)
#PJ:n vaihto ID-numeroksi
osastomuokkaus$PJ <- with(henkilomuokkaus, ID[match(osastomuokkaus$PJ, nimi)])
#J1 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas1, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas1 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas1, nimi)])
#J2 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas2, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas2 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas2, nimi)])
#J3 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas3, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas3 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas3, nimi)])
#SJ vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$SJ, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$SJ <- with(henkilomuokkaus, ID[match(osastomuokkaus$SJ, nimi)])
#sotilasarvot luokiteltuna
sotilaat <- sotilasarvot
osastomuokkaus[match(osastomuokkaus$Sjarvo, sotilaat$X2), 2, drop=F]
osastomuokkaus$Sjarvo <- with(sotilaat, X1[match(osastomuokkaus$Sjarvo, X2)])
#ammatit jasen 2 ja 3
ammatit <- ammatit23
osastomuokkaus[match(osastomuokkaus$`J2 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J2 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J2 ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J3 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J3 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J3 ammatti`, X2)])
#lainoppineiden jäsenten ammattiluokitus
lakimiehet <- lakiAmmatit
osastomuokkaus[match(osastomuokkaus$`PJ ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`PJ ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`PJ ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J1 ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`J1 ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`J1 ammatti`, X2)])
library(readxl)
osastot <- read_excel("~/Valtiorikosoikeudet/osastot.xls",
col_types = c("numeric", "numeric", "numeric",
"text", "text", "text", "text", "text",
"text", "text", "text", "text", "text",
"text", "text", "text", "text", "text"))
View(osastot)
osastomuokkaus <- osastot
osastomuokkaus #varmistus, ettei alkuperäinen data mene pilalle
henkilomuokkaus <- henkilot
henkilomuokkaus
#tässä yritetään id:n matchausta nimien avulla
osastomuokkaus[match(osastomuokkaus$PJ, henkilomuokkaus$nimi), 2, drop=F]
#head(osastomuokkaus)
#PJ:n vaihto ID-numeroksi
osastomuokkaus$PJ <- with(henkilomuokkaus, ID[match(osastomuokkaus$PJ, nimi)])
#J1 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas1, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas1 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas1, nimi)])
#J2 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas2, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas2 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas2, nimi)])
#J3 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas3, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas3 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas3, nimi)])
#SJ vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$SJ, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$SJ <- with(henkilomuokkaus, ID[match(osastomuokkaus$SJ, nimi)])
#sotilasarvot luokiteltuna
sotilaat <- sotilasarvot
osastomuokkaus[match(osastomuokkaus$Sjarvo, sotilaat$X2), 2, drop=F]
osastomuokkaus$Sjarvo <- with(sotilaat, X1[match(osastomuokkaus$Sjarvo, X2)])
#ammatit jasen 2 ja 3
ammatit <- ammatit23
osastomuokkaus[match(osastomuokkaus$`J2 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J2 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J2 ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J3 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J3 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J3 ammatti`, X2)])
#lainoppineiden jäsenten ammattiluokitus
lakimiehet <- lakiAmmatit
osastomuokkaus[match(osastomuokkaus$`PJ ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`PJ ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`PJ ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J1 ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`J1 ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`J1 ammatti`, X2)])
write.table(osastomuokkaus, "c:/valtiorikosoikeudet_2-12-2016.txt", sep="\t")
write.table(osastomuokkaus, "valtiorikosoikeudet_2-12-2016.txt", sep="\t")
library(readxl)
ammatit23 <- read_excel("~/Valtiorikosoikeudet/ammatit23.xls")
View(ammatit23)
ammatit <- ammatit23
osastomuokkaus[match(osastomuokkaus$`J2 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J2 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J2 ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J3 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J3 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J3 ammatti`, X2)])
library(readxl)
ammatit23 <- read_excel("~/Valtiorikosoikeudet/ammatit23.xls",
col_names = FALSE)
View(ammatit23)
ammatit <- ammatit23
osastomuokkaus[match(osastomuokkaus$`J2 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J2 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J2 ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J3 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J3 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J3 ammatti`, X2)])
osastomuokkaus <- osastot
osastomuokkaus #varmistus, ettei alkuperäinen data mene pilalle
henkilomuokkaus <- henkilot
henkilomuokkaus
#tässä yritetään id:n matchausta nimien avulla
osastomuokkaus[match(osastomuokkaus$PJ, henkilomuokkaus$nimi), 2, drop=F]
#head(osastomuokkaus)
#PJ:n vaihto ID-numeroksi
osastomuokkaus$PJ <- with(henkilomuokkaus, ID[match(osastomuokkaus$PJ, nimi)])
#J1 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas1, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas1 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas1, nimi)])
#J2 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas2, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas2 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas2, nimi)])
#J3 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas3, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas3 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas3, nimi)])
#SJ vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$SJ, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$SJ <- with(henkilomuokkaus, ID[match(osastomuokkaus$SJ, nimi)])
#sotilasarvot luokiteltuna
sotilaat <- sotilasarvot
osastomuokkaus[match(osastomuokkaus$Sjarvo, sotilaat$X2), 2, drop=F]
osastomuokkaus$Sjarvo <- with(sotilaat, X1[match(osastomuokkaus$Sjarvo, X2)])
#ammatit jasen 2 ja 3
ammatit <- ammatit23
osastomuokkaus[match(osastomuokkaus$`J2 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J2 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J2 ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J3 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J3 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J3 ammatti`, X2)])
#lainoppineiden jäsenten ammattiluokitus
lakimiehet <- lakiAmmatit
osastomuokkaus[match(osastomuokkaus$`PJ ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`PJ ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`PJ ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J1 ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`J1 ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`J1 ammatti`, X2)])
osastomuokkaus <- osastot
osastomuokkaus #varmistus, ettei alkuperäinen data mene pilalle
henkilomuokkaus <- henkilot
henkilomuokkaus
#tässä yritetään id:n matchausta nimien avulla
osastomuokkaus[match(osastomuokkaus$PJ, henkilomuokkaus$nimi), 2, drop=F]
#head(osastomuokkaus)
#PJ:n vaihto ID-numeroksi
osastomuokkaus$PJ <- with(henkilomuokkaus, ID[match(osastomuokkaus$PJ, nimi)])
#J1 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas1, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas1 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas1, nimi)])
#J2 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas2, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas2 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas2, nimi)])
#J3 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas3, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas3 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas3, nimi)])
#SJ vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$SJ, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$SJ <- with(henkilomuokkaus, ID[match(osastomuokkaus$SJ, nimi)])
#sotilasarvot luokiteltuna
sotilaat <- sotilasarvot
osastomuokkaus[match(osastomuokkaus$Sjarvo, sotilaat$X2), 2, drop=F]
osastomuokkaus$Sjarvo <- with(sotilaat, X1[match(osastomuokkaus$Sjarvo, X2)])
#ammatit jasen 2 ja 3
ammatit <- ammatit23
osastomuokkaus[match(osastomuokkaus$`J2 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J2 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J2 ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J3 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J3 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J3 ammatti`, X2)])
#lainoppineiden jäsenten ammattiluokitus
lakimiehet <- lakiAmmatit
osastomuokkaus[match(osastomuokkaus$`PJ ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`PJ ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`PJ ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J1 ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`J1 ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`J1 ammatti`, X2)])
osastomuokkaus <- osastot
osastomuokkaus #varmistus, ettei alkuperäinen data mene pilalle
henkilomuokkaus <- henkilot
henkilomuokkaus
#tässä yritetään id:n matchausta nimien avulla
osastomuokkaus[match(osastomuokkaus$PJ, henkilomuokkaus$nimi), 2, drop=F]
#head(osastomuokkaus)
#PJ:n vaihto ID-numeroksi
osastomuokkaus$PJ <- with(henkilomuokkaus, ID[match(osastomuokkaus$PJ, nimi)])
#J1 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas1, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas1 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas1, nimi)])
#J2 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas2, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas2 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas2, nimi)])
#J3 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas3, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas3 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas3, nimi)])
#SJ vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$SJ, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$SJ <- with(henkilomuokkaus, ID[match(osastomuokkaus$SJ, nimi)])
#sotilasarvot luokiteltuna
sotilaat <- sotilasarvot
osastomuokkaus[match(osastomuokkaus$Sjarvo, sotilaat$X2), 2, drop=F]
osastomuokkaus$Sjarvo <- with(sotilaat, X1[match(osastomuokkaus$Sjarvo, X2)])
#ammatit jasen 2 ja 3
ammatit <- ammatit23
osastomuokkaus[match(osastomuokkaus$`J2 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J2 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J2 ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J3 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J3 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J3 ammatti`, X2)])
#lainoppineiden jäsenten ammattiluokitus
lakimiehet <- lakiAmmatit
osastomuokkaus[match(osastomuokkaus$`PJ ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`PJ ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`PJ ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J1 ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`J1 ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`J1 ammatti`, X2)])
osastomuokkaus <- osastot
osastomuokkaus #varmistus, ettei alkuperäinen data mene pilalle
henkilomuokkaus <- henkilot
henkilomuokkaus
#tässä yritetään id:n matchausta nimien avulla
osastomuokkaus[match(osastomuokkaus$PJ, henkilomuokkaus$nimi), 2, drop=F]
#head(osastomuokkaus)
#PJ:n vaihto ID-numeroksi
osastomuokkaus$PJ <- with(henkilomuokkaus, ID[match(osastomuokkaus$PJ, nimi)])
#J1 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas1, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas1 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas1, nimi)])
#J2 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas2, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas2 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas2, nimi)])
#J3 vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$Jas3, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$Jas3 <- with(henkilomuokkaus, ID[match(osastomuokkaus$Jas3, nimi)])
#SJ vaihto ID-numeroksi
osastomuokkaus[match(osastomuokkaus$SJ, henkilomuokkaus$nimi), 2, drop=F]
osastomuokkaus$SJ <- with(henkilomuokkaus, ID[match(osastomuokkaus$SJ, nimi)])
#sotilasarvot luokiteltuna
sotilaat <- sotilasarvot
osastomuokkaus[match(osastomuokkaus$Sjarvo, sotilaat$X2), 2, drop=F]
osastomuokkaus$Sjarvo <- with(sotilaat, X1[match(osastomuokkaus$Sjarvo, X2)])
#ammatit jasen 2 ja 3
ammatit <- ammatit23
osastomuokkaus[match(osastomuokkaus$`J2 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J2 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J2 ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J3 ammatti`, ammatit$X2), 2, drop=F]
osastomuokkaus$`J3 ammatti` <- with(ammatit, X1[match(osastomuokkaus$`J3 ammatti`, X2)])
#lainoppineiden jäsenten ammattiluokitus
lakimiehet <- lakiAmmatit
osastomuokkaus[match(osastomuokkaus$`PJ ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`PJ ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`PJ ammatti`, X2)])
osastomuokkaus[match(osastomuokkaus$`J1 ammatti`, lakimiehet$X2), 2, drop=F]
osastomuokkaus$`J1 ammatti` <- with(lakimiehet, X1[match(osastomuokkaus$`J1 ammatti`, X2)])
library(foreign)
write.dta(osastomuokkaus, "valtiorikosoikeudet.dta")
write.table(osastomuokkaus, "c:/vro_koodattu.txt", sep="\t")
write.table(osastomuokkaus, "vro_koodattu.txt", sep="\t")
library(readxl)
tuomiot <- read_excel("~/Valtiorikosoikeudet/tuomiot.xls")
View(tuomiot)
library(readxl)
valkoiset_yhdiste_9_12_2016 <- read_excel("~/Ilkka/Tutkimusprojeksti/valkoiset väliyhdistelm/valkoiset_yhdiste_9-12-2016.xls")
View(valkoiset_yhdiste_9_12_2016)
warning()
warnings()
warnings(valkoiset_yhdiste_9_12_2016)
help("summary")
ammatti1918 = summary(ammatti 1918)
valkoiset <- valkoiset_yhdiste_9_12_2016
valkoiset
View(kotipaikat)
View(valkoiset)
valkoisetAmmatti1918 <- summary(valkoiset$`ammatti 1918`)
summary(valkoiset$`ammatti 1918`)
summary(Valkoiset$s-vuosi)
summary(valkoiset$`s-vuosi`)
aggregate(valkoiset)
library(plyr)
count(valkoiset$`ammatti 1918`)
ammatit1918 <- count(valkoiset$`ammatti 1918`)
View(ammatit1918)
View(ammatit1918)
ammattiNyk <- vount(valkoiset$`ammatti nyk`)
ammattiNyk <- count(valkoiset$`ammatti nyk`)
View(ammattiNyk)
View(ammattiNyk)
ammatti <- merge(data ammatit1918,data ammattiNyk,by="x")
ammatti <- merge(data ammatit1918,data ammattiNyk,by="x")
tyo <- merge(data ammatit1918,data ammattiNyk,by="x")
tyo <- merge(ammatit1918,ammattiNyk,by="x")
View(tyo)
View(tyo)
ammatti <- merge(ammatit1918,ammattiNyk,by="all.x")
ammatti <- merge(ammatit1918,ammattiNyk,all.x="x")
ammatti <- merge(ammatit1918,ammattiNyk,all.x="TRUE")
View(ammatti)
View(ammatti)
ammatti <- merge(ammatit1918,ammattiNyk,all.x="FALSE")
ammatti <- merge(ammatit1918,ammattiNyk,all.y="TRUE")
ammatti <- merge(ammatit1918,ammattiNyk,all="TRUE")
ammatti <- merge(ammatit1918,ammattiNyk,all=L)
ammatti <- merge(ammatit1918,ammattiNyk,all="L")
syntyma <- count(valkoiset$`s-vuosi`)
viem(syntyma)
View(syntyma)
sum(syntyma$freq)
summary(syntyma)
write.table(syntyma, "syntyma.txt", sep="\t")
write.table(ammatit1918, "ammatti1918.txt", sep="\t")
write.table(ammattiNyk, "ammattiNyk.txt", sep="\t")
ftable(ammatit1918)
osuudet <- ftable(ammatit1918)
view(osuudet)
osuudet
sum(syntyma$freq)
summary(syntyma)
?drop
synt <- subset()
newdata <- subset(syntyma, x >= 1916 | x < 1000, select=c(freq))
view(newdata)
View(newdata)
View(newdata)
newdata <- subset(syntyma, x >= 1000 | x < 1916, select=c(freq))
View(newdata)
View(newdata)
newdata <- subset(syntyma, x >= 1000 | x < 1916, select=c(x,freq))
View(newdata)
View(newdata)
newdata <- subset(syntyma, x >= 1000 | x < 1916, select=c(x))
View(newdata)
View(newdata)
newdata <- subset(syntyma, x >= 1000 | x < 1916
newdata <- subset(syntyma, x >= 1000 | x < 1916
newdata <- subset(syntyma, x >= 1000 | x < 1916)
View(newdata)
View(newdata)
library(readxl)
syntyma <- read_excel("~/syntyma.xls", col_names = FALSE,
col_types = c("numeric", "numeric"))
View(syntyma)
summary(syntyma)
install.packages(c("abind", "acepack", "car", "colorspace", "digest", "geosphere", "ggmap", "ggplot2", "gridExtra", "gtable", "Hmisc", "latticeExtra", "lme4", "mapdata", "maps", "MareyMap", "munsell", "plyr", "proto", "quantreg", "Rcmdr", "RcmdrMisc", "Rcpp", "RcppEigen", "readxl", "reshape2", "RgoogleMaps", "scales", "sp", "SparseM", "stringi", "stringr"))
install.packages(c("abind", "acepack", "car", "colorspace", "digest", "geosphere", "ggmap", "ggplot2", "gridExtra", "gtable", "Hmisc", "latticeExtra", "lme4", "mapdata", "maps", "MareyMap", "munsell", "plyr", "proto", "quantreg", "Rcmdr", "RcmdrMisc", "Rcpp", "RcppEigen", "readxl", "reshape2", "RgoogleMaps", "scales", "sp", "SparseM", "stringi", "stringr"))
install.packages(c("abind", "acepack", "car", "colorspace", "digest", "geosphere", "ggmap", "ggplot2", "gridExtra", "gtable", "Hmisc", "latticeExtra", "lme4", "mapdata", "maps", "MareyMap", "munsell", "plyr", "proto", "quantreg", "Rcmdr", "RcmdrMisc", "Rcpp", "RcppEigen", "readxl", "reshape2", "RgoogleMaps", "scales", "sp", "SparseM", "stringi", "stringr"))
install.packages(c("abind", "acepack", "car", "colorspace", "digest", "geosphere", "ggmap", "ggplot2", "gridExtra", "gtable", "Hmisc", "latticeExtra", "lme4", "mapdata", "maps", "MareyMap", "munsell", "plyr", "proto", "quantreg", "Rcmdr", "RcmdrMisc", "Rcpp", "RcppEigen", "readxl", "reshape2", "RgoogleMaps", "scales", "sp", "SparseM", "stringi", "stringr"))
install.packages(c("abind", "acepack", "car", "colorspace", "digest", "geosphere", "ggmap", "ggplot2", "gridExtra", "gtable", "Hmisc", "latticeExtra", "lme4", "mapdata", "maps", "MareyMap", "munsell", "plyr", "proto", "quantreg", "Rcmdr", "RcmdrMisc", "Rcpp", "RcppEigen", "readxl", "reshape2", "RgoogleMaps", "scales", "sp", "SparseM", "stringi", "stringr"))
install.packages(c("abind", "acepack", "car", "colorspace", "digest", "geosphere", "ggmap", "ggplot2", "gridExtra", "gtable", "Hmisc", "latticeExtra", "lme4", "mapdata", "maps", "MareyMap", "munsell", "plyr", "proto", "quantreg", "Rcmdr", "RcmdrMisc", "Rcpp", "RcppEigen", "readxl", "reshape2", "RgoogleMaps", "scales", "sp", "SparseM", "stringi", "stringr"))
install.packages(c("abind", "acepack", "car", "colorspace", "digest", "geosphere", "ggmap", "ggplot2", "gridExtra", "gtable", "Hmisc", "latticeExtra", "lme4", "mapdata", "maps", "MareyMap", "munsell", "plyr", "proto", "quantreg", "Rcmdr", "RcmdrMisc", "Rcpp", "RcppEigen", "readxl", "reshape2", "RgoogleMaps", "scales", "sp", "SparseM", "stringi", "stringr"))
install.packages(c("abind", "acepack", "car", "colorspace", "digest", "geosphere", "ggmap", "ggplot2", "gridExtra", "gtable", "Hmisc", "latticeExtra", "lme4", "mapdata", "maps", "MareyMap", "munsell", "plyr", "proto", "quantreg", "Rcmdr", "RcmdrMisc", "Rcpp", "RcppEigen", "readxl", "reshape2", "RgoogleMaps", "scales", "sp", "SparseM", "stringi", "stringr"))
learn <- read.table("http://www.helsinki.fi/~kvehkala/JYTmooc/JYTOPKYS3-data.txt", sep="\t", header=TRUE)
dim(learn)
View(learn)
str(learn)
library(dplyr)
head(learn)
install.packages(dplyr)
install.packages("dplyr")
install.packages("dplyr")
library("dplyr")
R.version
R.version
library(dplyr)
library("dplyr")
install.packages("dplyr")
library("dplyr")
str(learn)
t
learn <- read.table("http://www.helsinki.fi/~kvehkala/JYTmooc/JYTOPKYS3-data.txt", sep="\t", header=TRUE)
str(learn)
deep <- (learn, contains("D"))
deep <- (learn, select(contains("D")))
deep <- (select(learn, contains(("D")))
deep
deep
library("dplyr")
deep <- (select(learn, contains(("D")))
deep
deep <- (select(learn, contains(("D")))
depp
deep <- (select(learn, starts_with(("D")))
d
deep <- (select(learn, starts_with(("D"))))
deep <- select(learn, starts_with("D"))
deep
deep <- select(learn, one_of(c("D03", "D11", "D19", "D27", "D07", "D14", "D22", "D30","D07","D14","D22","D30")))
deep <- c("D03", "D11", "D19", "D27", "D07", "D14", "D22", "D30","D07","D14","D22","D30")
deep
surfQ <- c("SU02","SU10","SU18","SU26", "SU05","SU13","SU21","SU29","SU08","SU16","SU24","SU32")
straQ <- c("ST01","ST09","ST17","ST25","ST04","ST12","ST20","ST28")
deep <- select(learn, one_of(deepQ))
deepQ <- c("D03", "D11", "D19", "D27", "D07", "D14", "D22", "D30","D07","D14","D22","D30")
deep <- select(learn, one_of(deepQ))
surfQ <- c("SU02","SU10","SU18","SU26", "SU05","SU13","SU21","SU29","SU08","SU16","SU24","SU32")
straQ <- c("ST01","ST09","ST17","ST25","ST04","ST12","ST20","ST28")
surf <- select(learn, one_of(surfQ))
stra <- select(learn, one_of(straQ))
deep
str(learn)
deepKA <- rowMeans(deep)
surfKA <- rowMeans(surf)
straKA <- rowMeans(stra)
deepKA
head(deepKA)
str(deepKA)
learnComb <- data.frame("gender","Age","attitude", "deep", "stra", "surf", "Points")
head(learnComb)
keep_columns <- c("gender","Age","attitude", "Points")
learnComb <- select(learn, one_of(keep_columns))
str(learn)
keep_columns <- c("gender","Age","Attitude", "Points")
learnComb <- select(learn, one_of(keep_columns))
head(learnComb)
learnComb$deep <- deepKA
learnComb$surf <- surfKA
learnComb$stra <- straKA
head(learnComb)
?select
help("select")
str(learnComb)
learning <- filter(learnComb, Points != 0)
str(learning)
write.csv("learning.csv")
help("write.csv")
write.csv(learning, file= "learning.csv")
getwd()
setwd("~/Ilkka/IODS-project/data")
source('~/Ilkka/IODS-project/data/create_learning2014.R', echo=TRUE)
source('~/Ilkka/IODS-project/data/create_learning2014.R', echo=TRUE)
str(learning)
